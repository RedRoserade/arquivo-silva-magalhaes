@using PagedList;
@using PagedList.Mvc;
@model IEnumerable<TranslatedViewModel<Collection, CollectionTranslation>>

@{
    ViewBag.Title = "Index";
}

<h2 class="page_title">@Html.DisplayName(ArquivoSilvaMagalhaes.Web.I18n.FrontOfficeStrings.Collections)</h2>
<hr />
<b>@Html.DisplayName(ArquivoSilvaMagalhaes.Web.I18n.FrontOfficeStrings.Collections)</b>
<hr />

@foreach (var col in Model)
{
    <div class="media col-md-6">
        <a class="pull-left" href="~/Documents/Index/@Html.DisplayFor(itemModel => col.Entity.Id)">
            <img class="media-object" style="width:200px" src="~/Public/Collections/@col.Entity.LogoLocation">
        </a>
        <div class="media-body">
            <h4 class="media-heading">
              @if(col.Translation.Collection.Documents.Count()!=null){
                    <a href="~/Documents/Index/@Html.DisplayFor(itemModel => col.Entity.Id)">
                        @Html.DisplayFor(modelItem => col.Translation.Title)
                    </a>
              }
              else
              {  @Html.DisplayFor(modelItem => col.Translation.Title) }
            </h4>
            <p>
                @Html.DisplayFor(modelItem => col.Translation.Description)
            </p>
            @{
    var authors = col.Entity.Authors.ToList();
            }

            @foreach (var a in authors.Select(a => a.FirstName + " " + a.LastName))
            {
                <p style="font-size:small">
                    @Html.DisplayFor(modelItem => a)
                </p>
            }
            <p style="font-size:smaller">
                @Html.ActionLink(ArquivoSilvaMagalhaes.Web.I18n.FrontOfficeStrings.Informations, "Details", new { id = col.Entity.Id })
            </p>
        </div>
    </div>
}

@{
    ViewBag.Title = CollectionStrings.EntityNamePlural;
    Layout = "~/Views/Shared/_IndexPageLayout.cshtml";
}
